{"ast":null,"code":"module.exports = inViewport;\nvar instances = [];\nvar supportsMutationObserver = typeof global.MutationObserver === 'function';\n\nfunction inViewport(elt, params, cb) {\n  var opts = {\n    container: global.document.body,\n    offset: 0,\n    debounce: 15,\n    failsafe: 150\n  };\n\n  if (params === undefined || typeof params === 'function') {\n    cb = params;\n    params = {};\n  }\n\n  var container = opts.container = params.container || opts.container;\n  var offset = opts.offset = params.offset || opts.offset;\n  var debounceValue = opts.debounce = params.debounce || opts.debounce;\n  var failsafe = opts.failsafe = params.failsafe || opts.failsafe; // ensure backward compatibility with failsafe as boolean\n\n  if (failsafe === true) {\n    failsafe = 150;\n  } else if (failsafe === false) {\n    failsafe = 0;\n  } // failsafe check always needs to be higher than debounceValue\n\n\n  if (failsafe > 0 && failsafe < debounceValue) {\n    failsafe = debounceValue + 50;\n  }\n\n  for (var i = 0; i < instances.length; i++) {\n    if (instances[i].container === container && instances[i]._debounce === debounceValue && instances[i]._failsafe === failsafe) {\n      return instances[i].isInViewport(elt, offset, cb);\n    }\n  }\n\n  return instances[instances.push(createInViewport(container, debounceValue, failsafe)) - 1].isInViewport(elt, offset, cb);\n}\n\nfunction addEvent(el, type, fn) {\n  if (el.attachEvent) {\n    el.attachEvent('on' + type, fn);\n  } else {\n    el.addEventListener(type, fn, false);\n  }\n}\n\nfunction debounce(func, wait, immediate) {\n  var timeout;\n  return function () {\n    var context = this,\n        args = arguments;\n    var callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) func.apply(context, args);\n\n    function later() {\n      timeout = null;\n      if (!immediate) func.apply(context, args);\n    }\n  };\n} // https://github.com/jquery/sizzle/blob/3136f48b90e3edc84cbaaa6f6f7734ef03775a07/sizzle.js#L708\n\n\nvar contains = function () {\n  if (!global.document) {\n    return true;\n  }\n\n  return global.document.documentElement.compareDocumentPosition ? function (a, b) {\n    return !!(a.compareDocumentPosition(b) & 16);\n  } : global.document.documentElement.contains ? function (a, b) {\n    return a !== b && (a.contains ? a.contains(b) : false);\n  } : function (a, b) {\n    while (b = b.parentNode) {\n      if (b === a) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n};\n\nfunction createInViewport(container, debounceValue, failsafe) {\n  var watches = createWatches();\n  var scrollContainer = container === global.document.body ? global : container;\n  var debouncedCheck = debounce(watches.checkAll(watchInViewport), debounceValue);\n  addEvent(scrollContainer, 'scroll', debouncedCheck);\n\n  if (scrollContainer === global) {\n    addEvent(global, 'resize', debouncedCheck);\n  }\n\n  if (supportsMutationObserver) {\n    observeDOM(watches, container, debouncedCheck);\n  } // failsafe check, every X we check for visible images\n  // usecase: a hidden parent containing eleements\n  // when the parent becomes visible, we have no event that the children\n  // became visible\n\n\n  if (failsafe > 0) {\n    setInterval(debouncedCheck, failsafe);\n  }\n\n  function isInViewport(elt, offset, cb) {\n    if (!cb) {\n      return isVisible(elt, offset);\n    }\n\n    var remote = createRemote(elt, offset, cb);\n    remote.watch();\n    return remote;\n  }\n\n  function createRemote(elt, offset, cb) {\n    function watch() {\n      watches.add(elt, offset, cb);\n    }\n\n    function dispose() {\n      watches.remove(elt);\n    }\n\n    return {\n      watch: watch,\n      dispose: dispose\n    };\n  }\n\n  function watchInViewport(elt, offset, cb) {\n    if (isVisible(elt, offset)) {\n      watches.remove(elt);\n      cb(elt);\n    }\n  }\n\n  function isVisible(elt, offset) {\n    if (!elt) {\n      return false;\n    }\n\n    if (!contains(global.document.documentElement, elt) || !contains(global.document.documentElement, container)) {\n      return false;\n    } // Check if the element is visible\n    // https://github.com/jquery/jquery/blob/740e190223d19a114d5373758127285d14d6b71e/src/css/hiddenVisibleSelectors.js\n\n\n    if (!elt.offsetWidth || !elt.offsetHeight) {\n      return false;\n    }\n\n    var eltRect = elt.getBoundingClientRect();\n    var viewport = {};\n\n    if (container === global.document.body) {\n      viewport = {\n        top: -offset,\n        left: -offset,\n        right: global.document.documentElement.clientWidth + offset,\n        bottom: global.document.documentElement.clientHeight + offset\n      };\n    } else {\n      var containerRect = container.getBoundingClientRect();\n      viewport = {\n        top: containerRect.top - offset,\n        left: containerRect.left - offset,\n        right: containerRect.right + offset,\n        bottom: containerRect.bottom + offset\n      };\n    } // The element must overlap with the visible part of the viewport\n\n\n    var visible = eltRect.right >= viewport.left && eltRect.left <= viewport.right && eltRect.bottom >= viewport.top && eltRect.top <= viewport.bottom;\n    return visible;\n  }\n\n  return {\n    container: container,\n    isInViewport: isInViewport,\n    _debounce: debounceValue,\n    _failsafe: failsafe\n  };\n}\n\nfunction createWatches() {\n  var watches = [];\n\n  function add(elt, offset, cb) {\n    if (!isWatched(elt)) {\n      watches.push([elt, offset, cb]);\n    }\n  }\n\n  function remove(elt) {\n    var pos = indexOf(elt);\n\n    if (pos !== -1) {\n      watches.splice(pos, 1);\n    }\n  }\n\n  function indexOf(elt) {\n    for (var i = watches.length - 1; i >= 0; i--) {\n      if (watches[i][0] === elt) {\n        return i;\n      }\n    }\n\n    return -1;\n  }\n\n  function isWatched(elt) {\n    return indexOf(elt) !== -1;\n  }\n\n  function checkAll(cb) {\n    return function () {\n      for (var i = watches.length - 1; i >= 0; i--) {\n        cb.apply(this, watches[i]);\n      }\n    };\n  }\n\n  return {\n    add: add,\n    remove: remove,\n    isWatched: isWatched,\n    checkAll: checkAll\n  };\n}\n\nfunction observeDOM(watches, container, cb) {\n  var observer = new MutationObserver(watch);\n  var filter = Array.prototype.filter;\n  var concat = Array.prototype.concat;\n  observer.observe(container, {\n    childList: true,\n    subtree: true,\n    // changes like style/width/height/display will be catched\n    attributes: true\n  });\n\n  function watch(mutations) {\n    // some new DOM nodes where previously watched\n    // we should check their positions\n    if (mutations.some(knownNodes) === true) {\n      setTimeout(cb, 0);\n    }\n  }\n\n  function knownNodes(mutation) {\n    var nodes = concat.call([], Array.prototype.slice.call(mutation.addedNodes), mutation.target);\n    return filter.call(nodes, watches.isWatched).length > 0;\n  }\n}","map":{"version":3,"sources":["/home/coffeedoodles/Technigo/final-project-fe/petspotter-fe/code/node_modules/in-viewport/in-viewport.js"],"names":["module","exports","inViewport","instances","supportsMutationObserver","global","MutationObserver","elt","params","cb","opts","container","document","body","offset","debounce","failsafe","undefined","debounceValue","i","length","_debounce","_failsafe","isInViewport","push","createInViewport","addEvent","el","type","fn","attachEvent","addEventListener","func","wait","immediate","timeout","context","args","arguments","callNow","clearTimeout","setTimeout","later","apply","contains","documentElement","compareDocumentPosition","a","b","parentNode","watches","createWatches","scrollContainer","debouncedCheck","checkAll","watchInViewport","observeDOM","setInterval","isVisible","remote","createRemote","watch","add","dispose","remove","offsetWidth","offsetHeight","eltRect","getBoundingClientRect","viewport","top","left","right","clientWidth","bottom","clientHeight","containerRect","visible","isWatched","pos","indexOf","splice","observer","filter","Array","prototype","concat","observe","childList","subtree","attributes","mutations","some","knownNodes","mutation","nodes","call","slice","addedNodes","target"],"mappings":"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","sourcesContent":["module.exports = inViewport;\n\nvar instances = [];\nvar supportsMutationObserver = typeof global.MutationObserver === 'function';\n\nfunction inViewport(elt, params, cb) {\n  var opts = {\n    container: global.document.body,\n    offset: 0,\n    debounce: 15,\n    failsafe: 150\n  };\n\n  if (params === undefined || typeof params === 'function') {\n    cb = params;\n    params = {};\n  }\n\n  var container = opts.container = params.container || opts.container;\n  var offset = opts.offset = params.offset || opts.offset;\n  var debounceValue = opts.debounce = params.debounce || opts.debounce;\n  var failsafe = opts.failsafe = params.failsafe || opts.failsafe;\n\n  // ensure backward compatibility with failsafe as boolean\n  if (failsafe === true) {\n    failsafe = 150;\n  } else if(failsafe === false) {\n    failsafe = 0;\n  }\n\n  // failsafe check always needs to be higher than debounceValue\n  if (failsafe > 0 && failsafe < debounceValue) {\n      failsafe = debounceValue + 50;\n  }\n\n  for (var i = 0; i < instances.length; i++) {\n    if (\n      instances[i].container === container &&\n      instances[i]._debounce === debounceValue &&\n      instances[i]._failsafe === failsafe\n    ) {\n      return instances[i].isInViewport(elt, offset, cb);\n    }\n  }\n\n  return instances[\n    instances.push(createInViewport(container, debounceValue, failsafe)) - 1\n  ].isInViewport(elt, offset, cb);\n}\n\nfunction addEvent(el, type, fn) {\n  if (el.attachEvent) {\n    el.attachEvent('on' + type, fn);\n  } else {\n    el.addEventListener(type, fn, false);\n  }\n}\n\nfunction debounce(func, wait, immediate) {\n  var timeout;\n  return function () {\n    var context = this, args = arguments;\n    var callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) func.apply(context, args);\n\n    function later() {\n      timeout = null;\n      if (!immediate) func.apply(context, args);\n    }\n  };\n}\n\n// https://github.com/jquery/sizzle/blob/3136f48b90e3edc84cbaaa6f6f7734ef03775a07/sizzle.js#L708\nvar contains = function() {\n  if (!global.document) {\n    return true;\n  }\n  return global.document.documentElement.compareDocumentPosition ?\n    function (a, b) {\n      return !!(a.compareDocumentPosition(b) & 16);\n    } :\n    global.document.documentElement.contains ?\n      function (a, b) {\n        return a !== b && ( a.contains ? a.contains(b) : false );\n      } :\n      function (a, b) {\n        while (b = b.parentNode) {\n          if (b === a) {\n            return true;\n          }\n        }\n        return false;\n      };\n}\n\nfunction createInViewport(container, debounceValue, failsafe) {\n  var watches = createWatches();\n\n  var scrollContainer = container === global.document.body ? global : container;\n  var debouncedCheck = debounce(watches.checkAll(watchInViewport), debounceValue);\n\n  addEvent(scrollContainer, 'scroll', debouncedCheck);\n\n  if (scrollContainer === global) {\n    addEvent(global, 'resize', debouncedCheck);\n  }\n\n  if (supportsMutationObserver) {\n    observeDOM(watches, container, debouncedCheck);\n  }\n\n  // failsafe check, every X we check for visible images\n  // usecase: a hidden parent containing eleements\n  // when the parent becomes visible, we have no event that the children\n  // became visible\n  if (failsafe > 0) {\n    setInterval(debouncedCheck, failsafe);\n  }\n\n  function isInViewport(elt, offset, cb) {\n    if (!cb) {\n      return isVisible(elt, offset);\n    }\n\n    var remote = createRemote(elt, offset, cb);\n    remote.watch();\n    return remote;\n  }\n\n  function createRemote(elt, offset, cb) {\n    function watch() {\n      watches.add(elt, offset, cb);\n    }\n\n    function dispose() {\n      watches.remove(elt);\n    }\n\n    return {\n      watch: watch,\n      dispose: dispose\n    };\n  }\n\n  function watchInViewport(elt, offset, cb) {\n    if (isVisible(elt, offset)) {\n      watches.remove(elt);\n      cb(elt);\n    }\n  }\n\n  function isVisible(elt, offset) {\n    if (!elt) {\n      return false;\n    }\n\n    if (!contains(global.document.documentElement, elt) || !contains(global.document.documentElement, container)) {\n      return false;\n    }\n\n    // Check if the element is visible\n    // https://github.com/jquery/jquery/blob/740e190223d19a114d5373758127285d14d6b71e/src/css/hiddenVisibleSelectors.js\n    if (!elt.offsetWidth || !elt.offsetHeight) {\n      return false;\n    }\n\n    var eltRect = elt.getBoundingClientRect();\n    var viewport = {};\n\n    if (container === global.document.body) {\n      viewport = {\n        top: -offset,\n        left: -offset,\n        right: global.document.documentElement.clientWidth + offset,\n        bottom: global.document.documentElement.clientHeight + offset\n      };\n    } else {\n      var containerRect = container.getBoundingClientRect();\n      viewport = {\n        top: containerRect.top - offset,\n        left: containerRect.left - offset,\n        right: containerRect.right + offset,\n        bottom: containerRect.bottom + offset\n      };\n    }\n\n    // The element must overlap with the visible part of the viewport\n    var visible =\n      (\n        eltRect.right >= viewport.left &&\n        eltRect.left <= viewport.right &&\n        eltRect.bottom >= viewport.top &&\n        eltRect.top <= viewport.bottom\n      );\n\n    return visible;\n  }\n\n  return {\n    container: container,\n    isInViewport: isInViewport,\n    _debounce: debounceValue,\n    _failsafe: failsafe\n  };\n}\n\nfunction createWatches() {\n  var watches = [];\n\n  function add(elt, offset, cb) {\n    if (!isWatched(elt)) {\n      watches.push([elt, offset, cb]);\n    }\n  }\n\n  function remove(elt) {\n    var pos = indexOf(elt);\n    if (pos !== -1) {\n      watches.splice(pos, 1);\n    }\n  }\n\n  function indexOf(elt) {\n    for (var i = watches.length - 1; i >= 0; i--) {\n      if (watches[i][0] === elt) {\n        return i;\n      }\n    }\n    return -1;\n  }\n\n  function isWatched(elt) {\n    return indexOf(elt) !== -1;\n  }\n\n  function checkAll(cb) {\n    return function () {\n      for (var i = watches.length - 1; i >= 0; i--) {\n        cb.apply(this, watches[i]);\n      }\n    };\n  }\n\n  return {\n    add: add,\n    remove: remove,\n    isWatched: isWatched,\n    checkAll: checkAll\n  };\n}\n\nfunction observeDOM(watches, container, cb) {\n  var observer = new MutationObserver(watch);\n  var filter = Array.prototype.filter;\n  var concat = Array.prototype.concat;\n\n  observer.observe(container, {\n    childList: true,\n    subtree: true,\n    // changes like style/width/height/display will be catched\n    attributes: true\n  });\n\n  function watch(mutations) {\n    // some new DOM nodes where previously watched\n    // we should check their positions\n    if (mutations.some(knownNodes) === true) {\n      setTimeout(cb, 0);\n    }\n  }\n\n  function knownNodes(mutation) {\n    var nodes = concat.call([],\n      Array.prototype.slice.call(mutation.addedNodes),\n      mutation.target\n    );\n    return filter.call(nodes, watches.isWatched).length > 0;\n  }\n}\n"]},"metadata":{},"sourceType":"script"}